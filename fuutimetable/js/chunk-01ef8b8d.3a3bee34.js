(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01ef8b8d"],{"1e21":function(e,t,a){},"7e39":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pLogin"},[e.loading?a("LoadingCardComponents"):e._e(),e.loading?e._e():a("div",{staticClass:"form-signin"},[a("h1",{staticClass:"h3 mb-3 font-weight-normal"},[e._v("逢甲課表轉行事曆")]),a("label",{staticClass:"mt-2"},[e._v("NID帳號login")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",staticStyle:{"text-transform":"uppercase"},attrs:{placeholder:"NID帳號",required:"",autofocus:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),a("label",{staticClass:"mt-2"},[e._v("NID密碼")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"NID密碼",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.lngType,expression:"lngType"}],staticClass:"form-check-input",attrs:{type:"radio",name:"lng",id:"lng1",value:"tw",checked:""},domProps:{checked:e._q(e.lngType,"tw")},on:{change:function(t){e.lngType="tw"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"lng1"}},[e._v("\r\n        中文課表\r\n      ")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.lngType,expression:"lngType"}],staticClass:"form-check-input",attrs:{type:"radio",name:"lng",id:"lng2",value:"en"},domProps:{checked:e._q(e.lngType,"en")},on:{change:function(t){e.lngType="en"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"lng2"}},[e._v("\r\n        英文課表\r\n      ")])]),a("button",{staticClass:"btn btn-lg btn-primary btn-block",on:{click:e.getClassTableHandler}},[e._v("\r\n      登入\r\n    ")]),e.classTable.Success||e.first?e._e():a("small",{staticClass:"text-danger"},[e._v("\r\n      *登入錯誤\r\n    ")]),a("p",{staticClass:"mt-5 mb-3 text-muted"},[e._v("© 2019-2020")])]),e._v("\r\n  "+e._s(e.teachersName)+"\r\n")],1)},n=[],i=(a("7f7f"),{name:"pLogin",data:function(){return{loading:!1,classTable:{},username:"",password:"",lngType:"tw",first:!0,teachersName:[],apitimes:2}},watch:{teachersName:function(){if(this.apitimes--,this.apitimes<1){this.$emit("loading-change",!1),this.loading=!1,this.first=!1;for(var e=0;e<this.classTable.TimetableTw.length;e++)for(var t=this.classTable.TimetableTw[e].ScrSelcode,a=0;a<this.teachersName.length;a++){var s=this.teachersName[a].classId;s==t&&(!!this.classTable.TimetableTw[e].RomName==this.teachersName[a].name?this.classTable.TimetableTw[e].TeacherName="No":this.classTable.TimetableTw[e].TeacherName=this.teachersName[a].name)}this.golalaNextPage()}},classTable:function(){if(this.classTable.Success){"tw"==this.lngType?this.$emit("get-classTable",this.classTable.TimetableTw):this.$emit("get-classTable",this.classTable.TimetableEn);for(var e="",t=0;t<this.classTable.TimetableTw.length;t++)e=e+"|"+this.classTable.TimetableTw[t].ScrSelcode;this.getTeacherName(e)}else this.$emit("loading-change",!1),this.loading=!1,this.first=!1}},methods:{getClassTableHandler:function(){var e=this;this.username=this.username.toUpperCase();var t="http://100.24.69.16:9898/"+encodeURI(this.username)+"/"+encodeURIComponent(this.password);console.log(t),this.$emit("loading-change",!0),this.loading=!0,this.$http.get(t).then(function(t){e.classTable=t.data})},getTeacherName:function(e){var t=this,a="https://script.google.com/macros/s/AKfycbxJnY7_pTfSiNGsY1UaJWBOXSRbWGiLBgC9k_X-_TftFWUPyJ-3/exec?data="+encodeURI(e),s="https://script.google.com/macros/s/AKfycbyggZpXp-od-ljkKwGcPUpxCnuayz4R4zZUS0I1jg/exec?data="+encodeURI(e);this.$http.get(a).then(function(e){t.teachersName=t.teachersName.concat(e.data)}),this.$http.get(s).then(function(e){t.teachersName=t.teachersName.concat(e.data)})},golalaNextPage:function(){this.$router.push({name:"timetable"})}}}),l=i,c=(a("c205"),a("2877")),r=Object(c["a"])(l,s,n,!1,null,"afee49a6",null);t["default"]=r.exports},"7f7f":function(e,t,a){var s=a("86cc").f,n=Function.prototype,i=/^\s*function ([^ (]*)/,l="name";l in n||a("9e1e")&&s(n,l,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},c205:function(e,t,a){"use strict";var s=a("1e21"),n=a.n(s);n.a}}]);
//# sourceMappingURL=chunk-01ef8b8d.3a3bee34.js.map