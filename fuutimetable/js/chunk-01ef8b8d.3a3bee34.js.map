{"version":3,"sources":["webpack:///./src/pages/PLogin/template.html","webpack:///src/pages/PLogin/index.vue","webpack:///./src/pages/PLogin/index.vue?3e7d","webpack:///./src/pages/PLogin/index.vue","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/pages/PLogin/style.scss?1de6"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_e","loading","_v","directives","name","rawName","value","expression","staticStyle","text-transform","attrs","placeholder","required","autofocus","domProps","on","input","$event","target","composing","username","type","password","id","checked","_q","lngType","change","for","click","getClassTableHandler","classTable","Success","first","_s","teachersName","staticRenderFns","PLoginvue_type_script_lang_js_","data","apitimes","watch","$emit","i","TimetableTw","length","ScrSelcode","j","classId","RomName","TeacherName","golalaNextPage","TimetableEn","c_Id","getTeacherName","methods","_this","toUpperCase","api","encodeURI","encodeURIComponent","console","log","$http","get","then","response","_this2","api2","concat","$router","push","pages_PLoginvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","dP","__webpack_require__","f","FProto","Function","prototype","nameRE","NAME","configurable","match","e","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_style_scss_vue_type_style_index_0_id_afee49a6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_style_scss_vue_type_style_index_0_id_afee49a6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-01ef8b8d.3a3bee34.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pLogin\"},[(_vm.loading)?_c('LoadingCardComponents'):_vm._e(),(!_vm.loading)?_c('div',{staticClass:\"form-signin\"},[_c('h1',{staticClass:\"h3 mb-3 font-weight-normal\"},[_vm._v(\"逢甲課表轉行事曆\")]),_c('label',{staticClass:\"mt-2\"},[_vm._v(\"NID帳號login\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],staticClass:\"form-control\",staticStyle:{\"text-transform\":\"uppercase\"},attrs:{\"placeholder\":\"NID帳號\",\"required\":\"\",\"autofocus\":\"\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value}}}),_c('label',{staticClass:\"mt-2\"},[_vm._v(\"NID密碼\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"placeholder\":\"NID密碼\",\"required\":\"\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}),_c('div',{staticClass:\"form-check\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.lngType),expression:\"lngType\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"name\":\"lng\",\"id\":\"lng1\",\"value\":\"tw\",\"checked\":\"\"},domProps:{\"checked\":_vm._q(_vm.lngType,\"tw\")},on:{\"change\":function($event){_vm.lngType=\"tw\"}}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"lng1\"}},[_vm._v(\"\\r\\n        中文課表\\r\\n      \")])]),_c('div',{staticClass:\"form-check\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.lngType),expression:\"lngType\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"name\":\"lng\",\"id\":\"lng2\",\"value\":\"en\"},domProps:{\"checked\":_vm._q(_vm.lngType,\"en\")},on:{\"change\":function($event){_vm.lngType=\"en\"}}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"lng2\"}},[_vm._v(\"\\r\\n        英文課表\\r\\n      \")])]),_c('button',{staticClass:\"btn btn-lg btn-primary btn-block\",on:{\"click\":_vm.getClassTableHandler}},[_vm._v(\"\\r\\n      登入\\r\\n    \")]),(!_vm.classTable.Success && !_vm.first)?_c('small',{staticClass:\"text-danger\"},[_vm._v(\"\\r\\n      *登入錯誤\\r\\n    \")]):_vm._e(),_c('p',{staticClass:\"mt-5 mb-3 text-muted\"},[_vm._v(\"© 2019-2020\")])]):_vm._e(),_vm._v(\"\\r\\n  \"+_vm._s(_vm.teachersName)+\"\\r\\n\")],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\nexport default {\r\n  name: \"pLogin\",\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      classTable: {},\r\n      username: \"\",\r\n      password: \"\",\r\n      lngType: \"tw\",\r\n      first: true,\r\n      teachersName: [],\r\n      apitimes: 2\r\n    };\r\n  },\r\n  watch: {\r\n    teachersName() {\r\n      this.apitimes--;\r\n      if (this.apitimes < 1) {\r\n        this.$emit(\"loading-change\", false);\r\n        (this.loading = false), (this.first = false);\r\n        for (var i = 0; i < this.classTable.TimetableTw.length; i++) {\r\n          var ScrSelcode = this.classTable.TimetableTw[i].ScrSelcode;\r\n          for (var j = 0; j < this.teachersName.length; j++) {\r\n            var classId = this.teachersName[j].classId;\r\n            if (classId == ScrSelcode) {\r\n              if (\r\n                !!this.classTable.TimetableTw[i].RomName ==\r\n                this.teachersName[j].name\r\n              ) {\r\n                this.classTable.TimetableTw[i].TeacherName = \"No\";\r\n              } else {\r\n                this.classTable.TimetableTw[i].TeacherName = this.teachersName[\r\n                  j\r\n                ].name;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        this.golalaNextPage();\r\n      }\r\n    },\r\n    classTable() {\r\n      if (this.classTable.Success) {\r\n        if (this.lngType == \"tw\") {\r\n          this.$emit(\"get-classTable\", this.classTable.TimetableTw);\r\n        } else {\r\n          this.$emit(\"get-classTable\", this.classTable.TimetableEn);\r\n        }\r\n\r\n        var c_Id = \"\";\r\n        for (var i = 0; i < this.classTable.TimetableTw.length; i++) {\r\n          c_Id = c_Id + \"|\" + this.classTable.TimetableTw[i].ScrSelcode + \"\";\r\n        }\r\n        this.getTeacherName(c_Id);\r\n      } else {\r\n        this.$emit(\"loading-change\", false);\r\n        (this.loading = false), (this.first = false);\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getClassTableHandler() {\r\n      this.username = this.username.toUpperCase();\r\n      const api =\r\n        `http://100.24.69.16:9898/` +\r\n        encodeURI(this.username) +\r\n        `/` +\r\n        encodeURIComponent(this.password);\r\n      // const api = `test.json`;\r\n\r\n      console.log(api);\r\n      this.$emit(\"loading-change\", true);\r\n      this.loading = true;\r\n      this.$http.get(api).then(response => {\r\n        this.classTable = response.data;\r\n      });\r\n    },\r\n    getTeacherName(c_Id) {\r\n      const api =\r\n        `https://script.google.com/macros/s/AKfycbxJnY7_pTfSiNGsY1UaJWBOXSRbWGiLBgC9k_X-_TftFWUPyJ-3/exec?data=` +\r\n        encodeURI(c_Id);\r\n      const api2 =\r\n        `https://script.google.com/macros/s/AKfycbyggZpXp-od-ljkKwGcPUpxCnuayz4R4zZUS0I1jg/exec?data=` +\r\n        encodeURI(c_Id);\r\n      this.$http.get(api).then(response => {\r\n        this.teachersName = this.teachersName.concat(response.data);\r\n        //console.log(api);\r\n      });\r\n      this.$http.get(api2).then(response => {\r\n        this.teachersName = this.teachersName.concat(response.data);\r\n\r\n        //console.log(api2);\r\n      });\r\n    },\r\n\r\n    golalaNextPage() {\r\n      this.$router.push({\r\n        name: \"timetable\"\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<template src=\"./template.html\"></template>\r\n<style lang=\"scss\" src=\"./style.scss\" scoped></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./template.html?vue&type=template&id=afee49a6&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./style.scss?vue&type=style&index=0&id=afee49a6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"afee49a6\",\n  null\n  \n)\n\nexport default component.exports","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!./style.scss?vue&type=style&index=0&id=afee49a6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!./style.scss?vue&type=style&index=0&id=afee49a6&lang=scss&scoped=true&\""],"sourceRoot":""}